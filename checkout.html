<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Barcode Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .container {
      max-width: 480px;
      margin: 0 auto;
    }

    .input-container {
      display: flex;
      margin-bottom: 20px;
    }

    .input-field {
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ccc;
    }

    .add-button {
      margin-left: 10px;
      padding: 10px;
      background-color: #4CAF50;
      border: none;
      color: white;
      cursor: pointer;
    }

    .barcode-list {
      margin-top: 20px;
    }

    .barcode-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .barcode {
      margin-left: 10px;
      height: 50px;
    }

    .delete-button {
      margin-left: 10px;
      padding: 5px;
      background-color: #f44336;
      border: none;
      color: white;
      cursor: pointer;
    }

    .delete-all-button {
      margin-top: 20px;
      padding: 10px;
      background-color: #f44336;
      border: none;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Barcode Generator</h1>

    <div class="input-container">
      <input id="barcode-input" class="input-field" type="text" placeholder="Enter a 12 or 13 digit number">
      <button id="add-button" class="add-button">Add</button>
    </div>

    <div class="barcode-list" id="barcode-list"></div>

    <button id="delete-all-button" class="delete-all-button">Delete All</button>
  </div>

  <script>
    // Function to generate a barcode image URL
    function generateBarcodeURL(data) {
      return `https://barcodeapi.org/api/13/${data}`;
    }

    // Function to create a barcode item element
    function createBarcodeItem(data) {
      const barcodeItem = document.createElement('div');
      barcodeItem.className = 'barcode-item';

      const barcode = document.createElement('img');
      barcode.className = 'barcode';
      barcode.src = generateBarcodeURL(data);

      const deleteButton = document.createElement('button');
      deleteButton.className = 'delete-button';
      deleteButton.innerText = 'Delete';
      deleteButton.addEventListener('click', function() {
        barcodeItem.remove();
        saveToCookies();
      });

      barcodeItem.appendChild(barcode);
      barcodeItem.appendChild(deleteButton);

      return barcodeItem;
    }

    // Function to add a new barcode item
    function addBarcodeItem() {
      const inputField = document.getElementById('barcode-input');
      const barcodeList = document.getElementById('barcode-list');
      const barcodeValue = inputField.value.trim();

      if (barcodeValue !== '') {
        const barcodeItem = createBarcodeItem(barcodeValue);
        barcodeList.appendChild(barcodeItem);
        inputField.value = '';
        saveToCookies();
      }
    }

    // Function to delete all barcode items
    function deleteAllBarcodeItems() {
      const barcodeList = document.getElementById('barcode-list');
      barcodeList.innerHTML = '';
      saveToCookies();
    }

    // Function to save barcode items to cookies
    function saveToCookies() {
      const barcodeItems = Array.from(document.getElementsByClassName('barcode-item'));
      const barcodeData = barcodeItems.map(function(item) {
        return item.querySelector('img').src;
      });

      document.cookie = `barcodeData=${JSON.stringify(barcodeData)}; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/`;
    }

    // Function to load barcode items from cookies
    function loadFromCookies() {
      const cookies = document.cookie.split(';');
      for (const cookie of cookies) {
        const [name, value] = cookie.trim().split('=');
        if (name === 'barcodeData') {
          const barcodeData = JSON.parse(value);
          const barcodeList = document.getElementById('barcode-list');

          for (const data of barcodeData) {
            const barcodeItem = createBarcodeItem(data);
            barcodeList.appendChild(barcodeItem);
          }
        }
      }
    }

    // Event listener for the add button
    document.getElementById('add-button').addEventListener('click', addBarcodeItem);

    // Event listener for the delete all button
    document.getElementById('delete-all-button').addEventListener('click', deleteAllBarcodeItems);

    // Load barcode items from cookies when the page loads
    window.addEventListener('load', loadFromCookies);
  </script>
</body>
</html>
